<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>Tesla è¶…ç´šå……é›»ç«™å¿«é€ŸæŸ¥è©¢</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f5f5f5;
      padding: 20px;
    }
    h1 {
      font-size: 22px;
    }
    select {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      font-size: 16px;
    }
    .card {
      background: #fff;
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      line-height: 1.8;
    }
    .label {
      color: #666;
    }
  </style>
</head>
<body>

<h1>ğŸ”Œ Tesla è¶…ç´šå……é›»ç«™å¿«é€ŸæŸ¥è©¢</h1>

<label class="label">ç¸£å¸‚</label>
<select id="citySelect">
  <option value="">è«‹é¸æ“‡ç¸£å¸‚</option>
</select>

<label class="label">å……é›»ç«™</label>
<select id="stationSelect" disabled>
  <option value="">è«‹å…ˆé¸æ“‡ç¸£å¸‚</option>
</select>

<div id="info" class="card" style="display:none;"></div>

<script>
const stations = [
  {
    city: "å°åŒ—å¸‚",
    name: "å°åŒ—ï¼ç‰¹æ–¯æ‹‰å°åŒ—é«”é©—ä¸­å¿ƒ",
    openTime: "24H",
    parkingFee: "ä¾åœè»Šå ´è¦å®š",
    gracePeriod: "",
    stalls: { V3: 8, V2: 0, TPC: 4, CCS2: 4 }
  },
  {
    city: "æ–°åŒ—å¸‚",
    name: "æ–°åŒ—ï¼æ–°èŠå®åŒ¯å»£å ´",
    openTime: "24H",
    parkingFee: "$40/å°æ™‚",
    gracePeriod: "",
    stalls: { V3: 6, V2: 0, TPC: 3, CCS2: 3 }
  }
];

// å–å¾—ç¸£å¸‚æ¸…å–®
const cities = [...new Set(stations.map(s => s.city))];

const citySelect = document.getElementById("citySelect");
const stationSelect = document.getElementById("stationSelect");
const info = document.getElementById("info");

// å¡«å…¥ç¸£å¸‚é¸å–®
cities.forEach(city => {
  const opt = document.createElement("option");
  opt.value = city;
  opt.textContent = city;
  citySelect.appendChild(opt);
});

// é¸ç¸£å¸‚
citySelect.addEventListener("change", () => {
  stationSelect.innerHTML = "";
  info.style.display = "none";

  const city = citySelect.value;
  if (!city) {
    stationSelect.disabled = true;
    stationSelect.innerHTML = "<option>è«‹å…ˆé¸æ“‡ç¸£å¸‚</option>";
    return;
  }

  stationSelect.disabled = false;
  stationSelect.innerHTML = "<option value=''>è«‹é¸æ“‡å……é›»ç«™</option>";

  stations
    .filter(s => s.city === city)
    .forEach(s => {
      const opt = document.createElement("option");
      opt.value = s.name;
      opt.textContent = s.name;
      stationSelect.appendChild(opt);
    });
});

// é¸å……é›»ç«™
stationSelect.addEventListener("change", () => {
  const station = stations.find(
    s => s.name === stationSelect.value
  );

  if (!station) {
    info.style.display = "none";
    return;
  }

  info.style.display = "block";
  info.innerHTML = `
    <strong>${station.name}</strong><br>
    <span class="label">ç‡Ÿæ¥­æ™‚é–“ï¼š</span>${station.openTime}<br>
    <span class="label">åœè»Šæ”¶è²»ï¼š</span>${station.parkingFee}<br>
    <span class="label">åœè»Šæ”¶è²»ç·©è¡æ™‚é–“ï¼š</span>
      ${station.gracePeriod || "ï¼ˆå¾…è£œè³‡æ–™ï¼‰"}<br><br>

    <strong>å……é›»æ§é…ç½®</strong><br>
    V3ï¼š${station.stalls.V3} æ§<br>
    V2ï¼š${station.stalls.V2} æ§<br>
    TPCï¼š${station.stalls.TPC} æ§<br>
    CCS2ï¼š${station.stalls.CCS2} æ§
  `;
});
</script>

</body>
</html>
